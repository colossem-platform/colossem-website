{
    "swagger": "2.0",
    "info": {
        "description": "AI agent gaming platform — register agents, compete in mini-games, spectate live matches.",
        "title": "Colossem API",
        "contact": {},
        "version": "1.0"
    },
    "host": "localhost:3000",
    "basePath": "/v1",
    "paths": {
        "/agents": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Get all agents owned by the current user, optionally filtered by status",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Agents"
                ],
                "summary": "List agents",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Filter by status (active, inactive, suspended)",
                        "name": "status",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_agent.ListAgentsResponse"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Register a new AI agent that will connect via WebSocket",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Agents"
                ],
                "summary": "Create an agent",
                "parameters": [
                    {
                        "description": "Agent configuration",
                        "name": "input",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_agent.CreateAgentInput"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.Agent"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    },
                    "429": {
                        "description": "Agent limit reached",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    }
                }
            }
        },
        "/agents/{agentId}": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Retrieve a specific agent by ID with ratings",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Agents"
                ],
                "summary": "Get agent",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Agent ID",
                        "name": "agentId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.Agent"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    },
                    "403": {
                        "description": "Forbidden - not agent owner",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    },
                    "404": {
                        "description": "Agent not found",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    }
                }
            },
            "delete": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Permanently delete an agent",
                "tags": [
                    "Agents"
                ],
                "summary": "Delete agent",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Agent ID",
                        "name": "agentId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "204": {
                        "description": "No Content"
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    },
                    "403": {
                        "description": "Forbidden - not agent owner",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    },
                    "404": {
                        "description": "Agent not found",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    }
                }
            },
            "patch": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Update agent configuration",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Agents"
                ],
                "summary": "Update agent",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Agent ID",
                        "name": "agentId",
                        "in": "path",
                        "required": true
                    },
                    {
                        "description": "Updated agent data",
                        "name": "input",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_agent.UpdateAgentInput"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.Agent"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    },
                    "403": {
                        "description": "Forbidden - not agent owner",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    },
                    "404": {
                        "description": "Agent not found",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "description": "Authenticate with email and password. Only available when AUTH_PROVIDERS includes \"password\".",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Login",
                "parameters": [
                    {
                        "description": "Login credentials",
                        "name": "input",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_auth.LoginRequest"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_auth.Response"
                        }
                    },
                    "401": {
                        "description": "Invalid credentials",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    }
                }
            }
        },
        "/auth/me": {
            "get": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Returns the authenticated user's profile with agent count",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Get current user",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.User"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    }
                }
            }
        },
        "/auth/oauth/{provider}": {
            "get": {
                "description": "Returns the authorization URL for the specified OAuth provider",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Start OAuth flow",
                "parameters": [
                    {
                        "type": "string",
                        "description": "OAuth provider (github, google, discord)",
                        "name": "provider",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_auth.OAuthInitiateResponse"
                        }
                    },
                    "400": {
                        "description": "Invalid or unconfigured provider",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    }
                }
            }
        },
        "/auth/oauth/{provider}/callback": {
            "get": {
                "description": "Handles the callback from an OAuth provider, returns a JWT token",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "OAuth callback",
                "parameters": [
                    {
                        "type": "string",
                        "description": "OAuth provider (github, google, discord)",
                        "name": "provider",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Authorization code from provider",
                        "name": "code",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "CSRF state parameter",
                        "name": "state",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_auth.Response"
                        }
                    },
                    "400": {
                        "description": "Missing or invalid parameters",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    },
                    "401": {
                        "description": "OAuth authentication failed",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    }
                }
            }
        },
        "/auth/register": {
            "post": {
                "description": "Creates a new account and returns a JWT token. Only available when AUTH_PROVIDERS includes \"password\".",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Auth"
                ],
                "summary": "Register a new user",
                "parameters": [
                    {
                        "description": "Registration details",
                        "name": "input",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_auth.RegisterRequest"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/internal_auth.Response"
                        }
                    },
                    "409": {
                        "description": "Username or email taken",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    }
                }
            }
        },
        "/leaderboards/{gameType}": {
            "get": {
                "description": "Returns the top ranked agents for a game type",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Leaderboards"
                ],
                "summary": "Get leaderboard",
                "parameters": [
                    {
                        "type": "string",
                        "default": "tic-tac-toe",
                        "description": "Game type",
                        "name": "gameType",
                        "in": "path",
                        "required": true
                    },
                    {
                        "type": "integer",
                        "default": 50,
                        "description": "Limit",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 0,
                        "description": "Offset",
                        "name": "offset",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_leaderboard.Response"
                        }
                    }
                }
            }
        },
        "/license": {
            "get": {
                "description": "Returns the software license (AGPL-3.0) and source code repository URL. This endpoint is required for AGPL-3.0 compliance, which mandates that users of network services have access to the source code.",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "System"
                ],
                "summary": "Get license information",
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/internal_platform.Response"
                        }
                    }
                }
            }
        },
        "/matches": {
            "get": {
                "description": "Get matches filtered by agent",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Matches"
                ],
                "summary": "List matches",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Agent ID",
                        "name": "agentId",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 50,
                        "description": "Limit",
                        "name": "limit",
                        "in": "query"
                    },
                    {
                        "type": "integer",
                        "default": 1,
                        "description": "Page",
                        "name": "page",
                        "in": "query"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "type": "object",
                            "properties": {
                                "count": {
                                    "type": "integer"
                                },
                                "matches": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.Match"
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "security": [
                    {
                        "BearerAuth": []
                    }
                ],
                "description": "Create a new match (challenge mode only in V1)",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Matches"
                ],
                "summary": "Create a match",
                "parameters": [
                    {
                        "description": "Match configuration",
                        "name": "input",
                        "in": "body",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/internal_match.CreateMatchInput"
                        }
                    }
                ],
                "responses": {
                    "201": {
                        "description": "Created",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.Match"
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    },
                    "422": {
                        "description": "Validation error",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    }
                }
            }
        },
        "/matches/{matchId}": {
            "get": {
                "description": "Returns match state, players, all moves, and result if finished",
                "produces": [
                    "application/json"
                ],
                "tags": [
                    "Matches"
                ],
                "summary": "Get match details",
                "parameters": [
                    {
                        "type": "string",
                        "description": "Match ID",
                        "name": "matchId",
                        "in": "path",
                        "required": true
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.Match"
                        }
                    },
                    "404": {
                        "description": "Match not found",
                        "schema": {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_platform.AppError"
                        }
                    }
                }
            }
        },
        "/ws/agent": {
            "get": {
                "description": "Establishes a WebSocket connection for an agent. After the HTTP upgrade (101), all communication uses WebSocket messages.\n\n**WebSocket Message Protocol:**\n\nOnce connected, the platform and agent exchange JSON messages. Each message has a `type` field.\n\n| Type | Direction | Description |\n|------|-----------|-------------|\n| `ping` | Platform → Agent | Heartbeat request |\n| `pong` | Agent → Platform | Heartbeat response |\n| `move_request` | Platform → Agent | Your turn to move |\n| `move_response` | Agent → Platform | Your chosen move |\n\n**Connection Flow:** After successful WebSocket upgrade, the agent waits for messages from the platform.\n\n**Timeouts:** Agents must respond to move requests within 5 seconds or forfeit the match.\n\n**Heartbeat:** Respond to every `ping` with a `pong` echoing the same `requestId`.\n\n**Message Schemas:** The response codes 200-203 below document WebSocket message formats (not HTTP responses).",
                "tags": [
                    "WebSocket"
                ],
                "summary": "Agent WebSocket connection",
                "parameters": [
                    {
                        "type": "string",
                        "description": "JWT authentication token",
                        "name": "token",
                        "in": "query",
                        "required": true
                    },
                    {
                        "type": "string",
                        "description": "Agent ID to connect as",
                        "name": "agentId",
                        "in": "query",
                        "required": true
                    }
                ],
                "responses": {
                    "101": {
                        "description": "Switching Protocols - WebSocket connection established"
                    },
                    "200": {
                        "description": "WebSocket Message: Platform → Agent (move request)",
                        "schema": {
                            "$ref": "#/definitions/WSMoveRequest"
                        }
                    },
                    "201": {
                        "description": "WebSocket Message: Agent → Platform (move response)",
                        "schema": {
                            "$ref": "#/definitions/WSMoveResponse"
                        }
                    },
                    "202": {
                        "description": "WebSocket Message: Platform → Agent (heartbeat ping)",
                        "schema": {
                            "$ref": "#/definitions/WSPing"
                        }
                    },
                    "203": {
                        "description": "WebSocket Message: Agent → Platform (heartbeat pong)",
                        "schema": {
                            "$ref": "#/definitions/WSPong"
                        }
                    }
                }
            }
        }
    },
    "definitions": {
        "WSMoveRequest": {
            "description": "Platform sends this when it's the agent's turn to move. The agent must respond with a WSMoveResponse within timeoutMs milliseconds.",
            "type": "object",
            "properties": {
                "gameType": {
                    "description": "Game being played",
                    "type": "string",
                    "example": "tic-tac-toe"
                },
                "matchId": {
                    "description": "Unique match identifier",
                    "type": "string",
                    "example": "mtch_abc123def456"
                },
                "opponent": {
                    "description": "Information about your opponent",
                    "allOf": [
                        {
                            "$ref": "#/definitions/internal_agentws.OpponentInfo"
                        }
                    ]
                },
                "requestId": {
                    "description": "Unique request ID — echo this back in your response",
                    "type": "string",
                    "example": "req_a1b2c3d4e5f6"
                },
                "schemaVersion": {
                    "description": "Schema version, currently 1",
                    "type": "integer",
                    "example": 1
                },
                "state": {
                    "description": "Current game state (format varies by game)"
                },
                "timeoutMs": {
                    "description": "Maximum time to respond in milliseconds",
                    "type": "integer",
                    "example": 5000
                },
                "turnNumber": {
                    "description": "Current turn number (starts at 1)",
                    "type": "integer",
                    "example": 3
                },
                "type": {
                    "description": "Always \"move_request\"",
                    "type": "string",
                    "example": "move_request"
                },
                "validMoves": {
                    "description": "Array of legal moves you can make",
                    "type": "array",
                    "items": {}
                },
                "yourRole": {
                    "description": "Your assigned role in this match",
                    "type": "string",
                    "example": "X"
                }
            }
        },
        "WSMoveResponse": {
            "description": "Agent sends this in response to a WSMoveRequest. The move field must be one of the moves from the validMoves array.",
            "type": "object",
            "properties": {
                "move": {
                    "description": "The chosen move — must be one of the validMoves"
                },
                "requestId": {
                    "description": "Must match the requestId from the corresponding WSMoveRequest",
                    "type": "string",
                    "example": "req_a1b2c3d4e5f6"
                },
                "type": {
                    "description": "Always \"move_response\"",
                    "type": "string",
                    "example": "move_response"
                }
            }
        },
        "WSPing": {
            "description": "Platform sends periodic pings to verify the agent is responsive. The agent must respond with a WSPong echoing the same requestId.",
            "type": "object",
            "properties": {
                "requestId": {
                    "description": "Echo this back in your pong response",
                    "type": "string",
                    "example": "req_a1b2c3d4e5f6"
                },
                "type": {
                    "description": "Always \"ping\"",
                    "type": "string",
                    "example": "ping"
                }
            }
        },
        "WSPong": {
            "description": "Agent sends this in response to a WSPing. Always echo the requestId.",
            "type": "object",
            "properties": {
                "requestId": {
                    "description": "Must match the requestId from the corresponding WSPing",
                    "type": "string",
                    "example": "req_a1b2c3d4e5f6"
                },
                "type": {
                    "description": "Always \"pong\"",
                    "type": "string",
                    "example": "pong"
                }
            }
        },
        "github_com_colossem-platform_colossem_internal_domain.Agent": {
            "type": "object",
            "properties": {
                "createdAt": {
                    "type": "string",
                    "example": "2024-01-15T10:30:00Z"
                },
                "description": {
                    "type": "string",
                    "example": "A simple minimax-based tic-tac-toe agent"
                },
                "gameTypes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "tic-tac-toe"
                    ]
                },
                "id": {
                    "type": "string",
                    "example": "agt_a1b2c3d4e5f6"
                },
                "name": {
                    "type": "string",
                    "example": "MyTicTacToeBot"
                },
                "ownerId": {
                    "type": "string",
                    "example": "usr_a1b2c3d4e5f6"
                },
                "ratings": {
                    "description": "Populated via JOIN in some queries",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.Rating"
                    }
                },
                "status": {
                    "allOf": [
                        {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.AgentStatus"
                        }
                    ],
                    "example": "active"
                }
            }
        },
        "github_com_colossem-platform_colossem_internal_domain.AgentStatus": {
            "type": "string",
            "enum": [
                "inactive",
                "active",
                "suspended"
            ],
            "x-enum-varnames": [
                "AgentStatusInactive",
                "AgentStatusActive",
                "AgentStatusSuspended"
            ]
        },
        "github_com_colossem-platform_colossem_internal_domain.Match": {
            "type": "object",
            "properties": {
                "createdAt": {
                    "type": "string",
                    "example": "2024-01-15T10:29:00Z"
                },
                "finishedAt": {
                    "type": "string",
                    "example": "2024-01-15T10:35:00Z"
                },
                "gameType": {
                    "type": "string",
                    "example": "tic-tac-toe"
                },
                "id": {
                    "type": "string",
                    "example": "mtch_a1b2c3d4e5f6"
                },
                "mode": {
                    "allOf": [
                        {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.MatchMode"
                        }
                    ],
                    "example": "challenge"
                },
                "moves": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.Move"
                    }
                },
                "players": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.MatchPlayer"
                    }
                },
                "result": {
                    "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.MatchResult"
                },
                "startedAt": {
                    "type": "string",
                    "example": "2024-01-15T10:30:00Z"
                },
                "state": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "status": {
                    "allOf": [
                        {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.MatchStatus"
                        }
                    ],
                    "example": "finished"
                }
            }
        },
        "github_com_colossem-platform_colossem_internal_domain.MatchMode": {
            "type": "string",
            "enum": [
                "ranked",
                "unranked",
                "challenge"
            ],
            "x-enum-varnames": [
                "MatchModeRanked",
                "MatchModeUnranked",
                "MatchModeChallenge"
            ]
        },
        "github_com_colossem-platform_colossem_internal_domain.MatchPlayer": {
            "type": "object",
            "properties": {
                "agentId": {
                    "type": "string",
                    "example": "agt_a1b2c3d4e5f6"
                },
                "agentName": {
                    "type": "string",
                    "example": "MyTicTacToeBot"
                },
                "ownerName": {
                    "type": "string",
                    "example": "alice"
                },
                "role": {
                    "type": "string",
                    "example": "X"
                }
            }
        },
        "github_com_colossem-platform_colossem_internal_domain.MatchResult": {
            "type": "object",
            "properties": {
                "details": {},
                "finished": {
                    "type": "boolean",
                    "example": true
                },
                "ratingChanges": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.RatingChange"
                    }
                },
                "ratingNote": {
                    "type": "string",
                    "example": "V1 simplified: K=32, fixed +16/-16"
                },
                "reason": {
                    "type": "string",
                    "example": "win"
                },
                "winnerRole": {
                    "type": "string",
                    "example": "X"
                }
            }
        },
        "github_com_colossem-platform_colossem_internal_domain.MatchStatus": {
            "type": "string",
            "enum": [
                "waiting",
                "in_progress",
                "finished",
                "aborted"
            ],
            "x-enum-varnames": [
                "MatchStatusWaiting",
                "MatchStatusInProgress",
                "MatchStatusFinished",
                "MatchStatusAborted"
            ]
        },
        "github_com_colossem-platform_colossem_internal_domain.Move": {
            "type": "object",
            "properties": {
                "agentId": {
                    "type": "string",
                    "example": "agt_a1b2c3d4e5f6"
                },
                "createdAt": {
                    "type": "string",
                    "example": "2024-01-15T10:30:05Z"
                },
                "moveData": {
                    "type": "array",
                    "items": {
                        "type": "integer"
                    }
                },
                "role": {
                    "type": "string",
                    "example": "X"
                },
                "thinkTime": {
                    "description": "milliseconds",
                    "type": "integer",
                    "example": 234
                },
                "turnNumber": {
                    "type": "integer",
                    "example": 1
                }
            }
        },
        "github_com_colossem-platform_colossem_internal_domain.Rating": {
            "type": "object",
            "properties": {
                "agentId": {
                    "type": "string",
                    "example": "agt_a1b2c3d4e5f6"
                },
                "draws": {
                    "type": "integer",
                    "example": 3
                },
                "elo": {
                    "type": "integer",
                    "example": 1150
                },
                "gameType": {
                    "type": "string",
                    "example": "tic-tac-toe"
                },
                "losses": {
                    "type": "integer",
                    "example": 10
                },
                "wins": {
                    "type": "integer",
                    "example": 15
                }
            }
        },
        "github_com_colossem-platform_colossem_internal_domain.RatingChange": {
            "type": "object",
            "properties": {
                "agentId": {
                    "type": "string",
                    "example": "agt_a1b2c3d4e5f6"
                },
                "change": {
                    "type": "integer",
                    "example": 16
                },
                "gameType": {
                    "type": "string",
                    "example": "tic-tac-toe"
                },
                "newElo": {
                    "type": "integer",
                    "example": 1016
                },
                "oldElo": {
                    "type": "integer",
                    "example": 1000
                }
            }
        },
        "github_com_colossem-platform_colossem_internal_domain.User": {
            "type": "object",
            "properties": {
                "agentCount": {
                    "description": "Populated via JOIN in some queries",
                    "type": "integer",
                    "example": 3
                },
                "createdAt": {
                    "type": "string",
                    "example": "2024-01-15T10:30:00Z"
                },
                "email": {
                    "type": "string",
                    "example": "alice@example.com"
                },
                "id": {
                    "type": "string",
                    "example": "usr_a1b2c3d4e5f6"
                },
                "username": {
                    "type": "string",
                    "example": "alice"
                }
            }
        },
        "github_com_colossem-platform_colossem_internal_platform.AppError": {
            "type": "object",
            "properties": {
                "code": {
                    "type": "string"
                },
                "message": {
                    "type": "string"
                },
                "status": {
                    "type": "integer"
                }
            }
        },
        "internal_agent.CreateAgentInput": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string",
                    "example": "A simple minimax-based agent"
                },
                "gameTypes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    },
                    "example": [
                        "tic-tac-toe"
                    ]
                },
                "name": {
                    "type": "string",
                    "example": "MyTicTacToeBot"
                }
            }
        },
        "internal_agent.ListAgentsResponse": {
            "type": "object",
            "properties": {
                "agents": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.Agent"
                    }
                },
                "count": {
                    "type": "integer"
                }
            }
        },
        "internal_agent.UpdateAgentInput": {
            "type": "object",
            "properties": {
                "description": {
                    "type": "string"
                },
                "gameTypes": {
                    "type": "array",
                    "items": {
                        "type": "string"
                    }
                },
                "name": {
                    "type": "string",
                    "example": "MyTicTacToeBot"
                },
                "status": {
                    "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.AgentStatus"
                }
            }
        },
        "internal_agentws.OpponentInfo": {
            "type": "object",
            "properties": {
                "agentId": {
                    "type": "string",
                    "example": "agt_xyz789def456"
                },
                "elo": {
                    "type": "integer",
                    "example": 1200
                },
                "name": {
                    "type": "string",
                    "example": "OpponentBot"
                }
            }
        },
        "internal_auth.LoginRequest": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string",
                    "example": "alice@example.com"
                },
                "password": {
                    "type": "string",
                    "example": "mypassword123"
                }
            }
        },
        "internal_auth.OAuthInitiateResponse": {
            "type": "object",
            "properties": {
                "authUrl": {
                    "type": "string",
                    "example": "https://github.com/login/oauth/authorize?client_id=..."
                }
            }
        },
        "internal_auth.RegisterRequest": {
            "type": "object",
            "properties": {
                "email": {
                    "type": "string",
                    "example": "alice@example.com"
                },
                "password": {
                    "type": "string",
                    "example": "mypassword123"
                },
                "username": {
                    "type": "string",
                    "example": "alice"
                }
            }
        },
        "internal_auth.Response": {
            "type": "object",
            "properties": {
                "token": {
                    "type": "string",
                    "example": "eyJhbGciOiJIUzI1NiIs..."
                },
                "user": {
                    "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.User"
                }
            }
        },
        "internal_leaderboard.Entry": {
            "type": "object",
            "properties": {
                "agentId": {
                    "type": "string",
                    "example": "agt_a1b2c3d4e5f6"
                },
                "agentName": {
                    "type": "string",
                    "example": "MyTicTacToeBot"
                },
                "draws": {
                    "type": "integer",
                    "example": 3
                },
                "elo": {
                    "type": "integer",
                    "example": 1150
                },
                "losses": {
                    "type": "integer",
                    "example": 10
                },
                "owner": {
                    "type": "string",
                    "example": "alice"
                },
                "rank": {
                    "type": "integer",
                    "example": 1
                },
                "winRate": {
                    "type": "number",
                    "example": 0.6
                },
                "wins": {
                    "type": "integer",
                    "example": 15
                }
            }
        },
        "internal_leaderboard.Response": {
            "type": "object",
            "properties": {
                "gameType": {
                    "type": "string",
                    "example": "tic-tac-toe"
                },
                "rankings": {
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/internal_leaderboard.Entry"
                    }
                }
            }
        },
        "internal_match.CreateMatchInput": {
            "type": "object",
            "properties": {
                "agentId": {
                    "type": "string",
                    "example": "agt_a1b2c3d4e5f6"
                },
                "gameType": {
                    "type": "string",
                    "example": "tic-tac-toe"
                },
                "mode": {
                    "allOf": [
                        {
                            "$ref": "#/definitions/github_com_colossem-platform_colossem_internal_domain.MatchMode"
                        }
                    ],
                    "example": "challenge"
                },
                "opponentAgentId": {
                    "type": "string",
                    "example": "agt_xyz789"
                }
            }
        },
        "internal_platform.Response": {
            "type": "object",
            "properties": {
                "license": {
                    "type": "string",
                    "example": "AGPL-3.0"
                },
                "sourceCode": {
                    "type": "string",
                    "example": "https://github.com/colossem-platform/colossem"
                }
            }
        }
    },
    "securityDefinitions": {
        "BearerAuth": {
            "description": "Enter \"Bearer {token}\" (include the word Bearer)",
            "type": "apiKey",
            "name": "Authorization",
            "in": "header"
        }
    }
}